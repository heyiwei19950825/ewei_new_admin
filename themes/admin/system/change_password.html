{extend name="base" /}
{block name="body"}
<div class="row border-bottom white-bg page-heading">
	<div class="col-lg-10">
		<h2>修改密码</h2>
		<ol class="breadcrumb">
		    <li>
		        <a href="index.html">主页</a>
		    </li>
		    <li>
		        <a>系统配置</a>
		    </li>
		    <li>
		        <strong>修改密码</strong>
		    </li>
		</ol>
	</div>
	<div class="col-lg-2">
	</div>
</div>
<div class="animated fadeInRight">
	<div class="row">
	    <div class="ibox float-e-margins">
	       
	        <div class="ibox-content">
	            <form class="form-horizontal m-t" id="signupForm"  action="{:url('admin/change_password/updatePassword')}" method="post">
	                <div class="form-group">
	                    <label class="col-sm-3 control-label">原始密码：</label>
	                    <div class="col-sm-8">
	                        <input id="old_password" name="old_password" class="form-control" type="password">
	                    </div>
	                </div>
	                <div class="form-group">
	                    <label class="col-sm-3 control-label">确认密码：</label>
	                    <div class="col-sm-8">
	                        <input id="password" name="password" class="form-control" type="password">
	                    </div>
	                </div>
	                <div class="form-group">
	                    <label class="col-sm-3 control-label">重复密码：</label>
	                    <div class="col-sm-8">
	                        <input id="confirm_password" name="confirm_password" class="form-control" type="password">
	                    </div>
	                </div>
	                <div class="form-group">
	                    <div class="col-sm-8 col-sm-offset-3">
	                        <button class="btn btn-primary" type="submit">提交</button>
	                    </div>
	                </div>
	            </form>
	        </div>
	    </div>
	</div>
</div>

{/block}
{block name="js"}
   <script src="__JS__/plugins/validate/jquery.validate.min.js"></script>
   <script src="__JS__/plugins/validate/messages_zh.min.js"></script>
{/block}
{block name="script"}
<script>
	//以下为官方示例
    $(document).ready(function () {
        // validate the comment form when it is submitted
        $("#commentForm").validate();
        // validate signup form on keyup and submit
        $("#signupForm").validate({
             rules: {
             	old_password:{
						required: true,
                    minlength: 5
             	},
                password: {
                    required: true,
                    minlength: 5
                },
                confirm_password: {
                    required: true,
                    minlength: 5,
                    equalTo: "#password"
                },
                email: {
                    required: true,
                    email: true
                },
                topic: {
                    required: "#newsletter:checked",
                    minlength: 2
                },
                agree: "required"
            },
            messages: {
                password: {
                    required: "请输入您的密码",
                    minlength: "密码必须5个字符以上"
                },
                confirm_password: {
                    required: "请再次输入密码",
                    minlength: "密码必须5个字符以上",
                    equalTo: "两次输入的密码不一致"
                },
                email: "请输入您的E-mail",
                agree: "必须同意协议后才能注册"
            }
        });

        // propose username by combining first- and lastname
        $("#username").focus(function () {
            var firstname = $("#firstname").val();
            var lastname = $("#lastname").val();
            if (firstname && lastname && !this.value) {
                this.value = firstname + "." + lastname;
            }
        });
    });
</script>
{/block}